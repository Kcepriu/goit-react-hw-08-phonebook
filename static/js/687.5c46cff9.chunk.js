(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[687],{687:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nn}});var r,a,i,o,s,c=t(9434),u=t(8045),d=t(168),l=t(6444),p=l.ZP.form(r||(r=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 320px;\n  gap: 15px;\n  margin-bottom: 20px; ;\n"]))),m=l.ZP.label(a||(a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  /* margin-bottom: 10px; */\n"]))),h=l.ZP.button(i||(i=(0,d.Z)(["\n  max-width: 100px;\n"]))),x=t(6916),f=function(n){return n.contacts.items},b=function(n){return n.contacts.isLoading},g=function(n){return n.contacts.error},y=(0,x.P1)([f,function(n){return n.filter.request}],(function(n,e){return n.filter((function(n){return n.name.toUpperCase().includes(e.toUpperCase())}))})),Z=function(){return{contacts:(0,c.v9)(f),isLoading:(0,c.v9)(b),error:(0,c.v9)(g)}},j=t(5495),v=t(184),C=function(){var n=Z().contacts,e=(0,j.Z)().showFailure,t=(0,c.I0)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(p,{onSubmit:function(r){r.preventDefault();var a=r.target,i={name:a.elements.name.value,number:a.elements.phone.value};(function(n,r){if(!function(n,e){var t=e.toUpperCase();return n.find((function(n){return n.name.toUpperCase()===t}))}(n,r.name))return t((0,u.el)(r)),!0;e("".concat(r.name," is already in contacts"))})(n,i)&&a.reset()},children:[(0,v.jsxs)(m,{htmlFor:"userName",children:["Name",(0,v.jsx)("input",{type:"text",placeholder:"Enter user name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",name:"name"})]}),(0,v.jsxs)(m,{htmlFor:"numberPhone",children:["Number",(0,v.jsx)("input",{type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,v.jsx)(h,{type:"submit",children:"Add contact"})]})})},P=l.ZP.ul(o||(o=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),q=t(9439),R=t(2007),w=t.n(R),E=l.ZP.li(s||(s=(0,d.Z)(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n"]))),F=function(n){var e=n.contact,t=n.handlerEditionContact,r=(0,c.I0)();return(0,v.jsxs)(E,{children:[e.name,": ",e.number,(0,v.jsx)("button",{type:"button",onClick:function(){return r((0,u._f)(e.id))},children:"Delete"}),(0,v.jsx)("button",{type:"button",onClick:function(){return t(!0)},children:"Edit"})]})};F.propType={contact:w().exact({id:w().string.isRequired,name:w().string.isRequired,phone:w().string.isRequired,edit:w().bool}).isRequired,handlerEditionContact:w().func.isRequired};var k,T,_=F,A=t(2791),S=l.ZP.form(k||(k=(0,d.Z)(["\n  display: inline-flex;\n  border: 1px solid gray;\n  max-width: 100%;\n  /* flex-direction: column; */\n  /* max-width: 320px; */\n  gap: 15px;\n\n  /* margin-bottom: 20px; ; */\n"]))),I=l.ZP.label(T||(T=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  /* margin-bottom: 10px; */\n"]))),N=function(n){var e=n.contact,t=n.handlerEditionContact,r=Z().contacts,a=(0,j.Z)().showFailure,i=(0,c.I0)(),o=(0,A.useState)(e.name),s=(0,q.Z)(o,2),d=s[0],l=s[1],p=(0,A.useState)(e.number),m=(0,q.Z)(p,2),h=m[0],x=m[1];return(0,v.jsxs)(S,{onSubmit:function(n){n.preventDefault(),function(n,e,t){var r=e.toUpperCase();return n.find((function(n){return n.name.toUpperCase()===r&&n.id!==t}))}(r,d,e.id)?a("".concat(d," is already in contacts")):(t(!1),i((0,u.FQ)({id:e.id,contact:{name:d,number:h}})))},children:[(0,v.jsxs)(I,{htmlFor:"userName",children:["New name:",(0,v.jsx)("input",{type:"text",placeholder:"Enter user name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",name:"name",value:d,onChange:function(n){l(n.target.value)}})]}),(0,v.jsxs)(I,{htmlFor:"numberPhone",children:["New number:",(0,v.jsx)("input",{type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:h,onChange:function(n){x(n.target.value)}})]}),(0,v.jsx)("button",{type:"submit",children:"Save"}),(0,v.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"Cancel"})]})};N.propType={contact:w().exact({id:w().string.isRequired,name:w().string.isRequired,phone:w().string.isRequired,edit:w().bool}).isRequired,handlerEditionContact:w().func.isRequired};var O=N,z=function(n){var e=n.contact,t=(0,A.useState)(!1),r=(0,q.Z)(t,2),a=r[0],i=r[1];return(0,v.jsx)(v.Fragment,{children:a?(0,v.jsx)(O,{contact:e,handlerEditionContact:i}):(0,v.jsx)(_,{contact:e,handlerEditionContact:i})})};z.propType={contact:w().exact({id:w().string.isRequired,name:w().string.isRequired,phone:w().string.isRequired,edit:w().bool}).isRequired};var U,L,D,B,M,W=z,J=function(){var n=(0,c.v9)(y);return(0,v.jsx)(P,{children:n.map((function(n){return(0,v.jsx)(W,{contact:n},n.id)}))})},$=t(5413),H=l.ZP.h3(U||(U=(0,d.Z)(["\n  margin-bottom: 10px;\n"]))),Q=l.ZP.input(L||(L=(0,d.Z)(["\n  margin-bottom: 20px;\n"]))),V=function(){var n=(0,c.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(H,{children:"Find contact by name"}),(0,v.jsx)(Q,{type:"text",name:"filter",onChange:function(e){n((0,$.M)(e.currentTarget.value))}})]})},Y=t(3994),G=l.ZP.h1(D||(D=(0,d.Z)(["\n  margin-bottom: 20px;\n"]))),K=l.ZP.h2(B||(B=(0,d.Z)(["\n  margin-bottom: 20px;\n"]))),X=l.ZP.div(M||(M=(0,d.Z)(["\n  margin-top: 20px;\n"]))),nn=function(){var n=Z(),e=n.contacts,t=n.isLoading,r=n.error,a=(0,c.I0)();return(0,A.useEffect)((function(){a((0,u.CL)())}),[a]),(0,v.jsxs)(X,{children:[(0,v.jsx)(G,{children:"Phonebook"}),(0,v.jsx)(C,{}),e.length>0&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(V,{}),(0,v.jsx)(K,{children:"Contacts"}),(0,v.jsx)(J,{})]}),t&&!r&&(0,v.jsx)(Y.Z,{})]})}},888:function(n,e,t){"use strict";var r=t(9047);function a(){}function i(){}i.resetWarningCache=a,n.exports=function(){function n(n,e,t,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return n}n.isRequired=n;var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:a};return t.PropTypes=t,t}},2007:function(n,e,t){n.exports=t(888)()},9047:function(n){"use strict";n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=687.5c46cff9.chunk.js.map